{% extends "base.html" %}
{% load static %}

{% block stuart %}
<!--  *******************************************************************************************-->
<!--  ******************************* DISPLAY DATA FROM DATABASE **********************************-->
<!--  *******************************************************************************************-->
<div class="row">
<!--    <div>-->
<!--        <a class="btn btn-outline-primary" href="{% url 'create_order' %}">Add Connection</a>-->
<!--    </div>-->
    <div>
        <a class="btn btn-outline-primary" href="/create/">Add Connection</a>
    </div>
</div>

<table id="example" class="table table-striped table-bordered table-sm display nowrap "
       cellspacing="0"
       width="100%">
    <thead>
    <tr>
        <th>MDA</th>
        <th>MDA Site</th>
        <th>Location</th>
        <th>District</th>
        <th>Period of NBI Extension</th>
        <th>Status</th>
        <th>Internet</th>
        <th>Leased MDA</th>
        <th>Leased IFMS</th>
        <th>Dark Fibre</th>
        <th>FY Period of Connectivity</th>
        <th>Date of Connection Internet Bandwidth</th>
        <th>Date of Connection IFMS</th>
        <th>Date of Connection Leased Lines</th>
        <th>Date of Connection Dark Fibre</th>
        <th>Internet Capacity</th>
        <th>Leased MDA Capacity</th>
        <th>Leased IFMS Capacity</th>
        <th>Dark Fibre Quantity</th>
        <th>Fibre Done</th>
        <th>ODF Installed</th>
        <th>Latitude</th>
        <th>Longitude</th>
        <th>Comments</th>
        <th style="color:blue">Edit Record</th>
        <th style="color:red">Delete Recrod</th>

    </tr>
    </thead>
    <tbody>
    {% for nbi in todo_list %}
    <tr>
        <td>{{nbi.mda}}</td>
        <td>{{nbi.mda_site}}</td>
        <td>{{nbi.location}}</td>
        <td>{{nbi.district}}</td>
        <td>{{nbi.period_of_nbi_extension}}</td>
        <td>{{nbi.status}}</td>
        <td>{{nbi.internet}}</td>
        <td>{{nbi.leased_mda}}</td>
        <td>{{nbi.leased_ifms}}</td>
        <td>{{nbi.dark_fibre}}</td>
        <td>{{nbi.fy_period_of_connectivity}}</td>
        <td>{{nbi.date_of_connection_internet_bandwidth}}</td>
        <td>{{nbi.date_of_connection_ifms}}</td>
        <td>{{nbi.date_of_connection_leased_lines}}</td>
        <td>{{nbi.date_of_connection_dark_fibre}}</td>
        <td>{{nbi.internet_capacity}}</td>
        <td>{{nbi.leased_mda_capacity}}</td>
        <td>{{nbi.leased_ifms_capacity}}</td>
        <td>{{nbi.dark_fibre_quantity}}</td>
        <td>{{nbi.fibre_done}}</td>
        <td>{{nbi.odf_installed}}</td>
        <td>{{nbi.latitude}}</td>
        <td>{{nbi.longitude}}</td>
        <td>{{nbi.comments}}</td>

        <!--        ******************************************************************************************-->
        <!--        ******************************* EDIT DATA FROM DATABASE *********************************-->
        <!--        *******************************************************************************************-->
        <td>
<!--                <a href="{% url 'edit' nbi.id %}">-->
            <a href="{% url 'update_order' nbi.id %}">
            <button type="submit" class="btn">
                <svg class="bi bi-pencil" width="20" height="20" viewBox="0 0 20 20" fill="currentColor"
                     xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd"
                          d="M13.293 3.293a1 1 0 011.414 0l2 2a1 1 0 010 1.414l-9 9a1 1 0 01-.39.242l-3 1a1 1 0 01-1.266-1.265l1-3a1 1 0 01.242-.391l9-9zM14 4l2 2-9 9-3 1 1-3 9-9z"
                          clip-rule="evenodd"/>
                    <path fill-rule="evenodd"
                          d="M14.146 8.354l-2.5-2.5.708-.708 2.5 2.5-.708.708zM5 12v.5a.5.5 0 00.5.5H6v.5a.5.5 0 00.5.5H7v.5a.5.5 0 00.5.5H8v-1.5a.5.5 0 00-.5-.5H7v-.5a.5.5 0 00-.5-.5H5z"
                          clip-rule="evenodd"/>
                </svg>
            </button>
                    </a>
<!--        </a>-->
        </td>

        <!--        *******************************************************************************************-->
        <!--        ******************************* DELETE DATA FROM DATABASE *********************************-->
        <!--        *******************************************************************************************-->
        <td>
            <a href="{% url 'delete_order' nbi.id %}">

                <button type="submit" class="btn">
                    <i class="far fa-trash-alt fa-lg text-danger float-right"></i>
                </button>
            </a>

        </td>

    </tr>
    {% endfor %}

    </tbody>
</table>

<script>
console.log("Javascript working")
$(document).ready(function() {
    $('#example').DataTable( {
    "scrollX": true,
    "scrollY": 600,
        dom: 'Bfrtip',
        buttons: [
            'copy', 'csv', 'excel', 'pdf', 'print'
        ]
    } );
} );


</script>


{% endblock stuart %}
